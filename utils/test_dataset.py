from matplotlib.patches import ConnectionPatch # for plotting matching result
from plotly.subplots import make_subplots

import matplotlib.pyplot as plt # for plotting
import matplotlib.colors as mcolors
import networkx as nx # for plotting graphs
import numpy as np
import pandas as pd
import plotly.graph_objects as go
import plotly.express as px

import networkx as nx
import matplotlib.pyplot as plt

def plot_graphs_matrix(A1, A2):
    plt.figure(figsize=(16, 8))
    G1 = nx.from_numpy_array(np.array(A1))
    G2 = nx.from_numpy_array(np.array(A2))

    #G1 = nx.relabel_nodes(G1, mapping1)
    #G2 = nx.relabel_nodes(G2, mapping2)
    
    plt.subplot(1, 2, 1)
    plt.title('Graph 1')
    nx.draw_networkx(G1, pos=initialpos_1, font_color="w")
    plt.subplot(1, 2, 2)
    plt.title('Graph 2')
    nx.draw_networkx(G2, pos=initialpos_2, font_color="w")
    return G1, G2

def plot_graphs_edges(E1, E2):
    plt.figure(figsize=(16, 8))
    G1 = nx.from_edgelist(E1)
    G2 = nx.from_edgelist(E2)

    #G1 = nx.relabel_nodes(G1, mapping1)
    #G2 = nx.relabel_nodes(G2, mapping2)
    
    plt.subplot(1, 2, 1)
    plt.title('Graph 1')
    nx.draw_networkx(G1, pos=initialpos, font_color="w")
    plt.subplot(1, 2, 2)
    plt.title('Graph 2')
    nx.draw_networkx(G2, pos=initialpos, font_color="w")
    return G1, G2

def similarity_matrix(X, G1, G2):
    df_matrix = pd.DataFrame(data=X, index=list(G1.nodes()), columns=list(G2.nodes()))
    # df_matrix = df_matrix.style.apply(highlight_max, color='red')
    return df_matrix

def plot_similarity_matrix(df_matrix):
    """ fig = make_subplots(rows=1, cols=1, subplot_titles=["Similarity Matrix"])

    fig.add_trace(
        go.Heatmap(x=df_matrix.columns, y=df_matrix.index, 
        z=df_matrix.values, colorscale="Viridis_r"), row=1, col=1
    )

    fig.update_layout(height=700, width=700, title_text="Similarity Matrix")
    fig.show() """

    fig = px.imshow(df_matrix,)
    fig.update_xaxes(side="top")
    fig.update_layout(height=700, width=700, title_text="Similarity Matrix")
    fig.show()

def plot_match(G1, G2, df_matrix):
    colors = list(mcolors.TABLEAU_COLORS)

    plt.figure(figsize=(16, 8))
    ax1 = plt.subplot(1, 2, 1)
    plt.title('Graph 1')
    nx.draw_networkx(G1, pos=initialpos, font_color="w")
    ax2 = plt.subplot(1, 2, 2)
    plt.title('Graph 2')
    nx.draw_networkx(G2, pos=initialpos, font_color="w")

    node_match = df_matrix.idxmax(axis="columns")
    node_match = list(zip(node_match.index, node_match.values))

    for k, item in enumerate(node_match):
        # print(item)
        con = ConnectionPatch(xyA=initialpos[item[0]], xyB=initialpos[item[1]], coordsA="data", coordsB="data",
                            axesA=ax1, axesB=ax2, color=colors[k % len(colors)])
        plt.gca().add_artist(con)
        if item[0] == item[1]:
            print("Match\t\t", item[0], item[1])
        else:
            print("Unmatch\t", item[0], item[1])
FFF = 6
N1 = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r']
N1_ = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17]
A1 = [
    #a  b  c  d  e  f  g  h  i  j  k  l  m  n  o  p  q  r
    [0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0], # a
    [1, 0, 1, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0], # b
    [0, 1, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], # c
    [0, 0, 1, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], # d
    [0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], # e
    [0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0], # f
    [0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1], # g
    [0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0], # h
    [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0], # i
    [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0], # j
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0], # k
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0], # l
    [0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0], # m
    [0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0, 0, 0], # n
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0], # o
    [0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0], # p
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1], # q
    [0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0], # r
]
# A1 = torch.tensor(A1)
E1 = [
    ('a', 'b'),
    ('a', 'i'),
    ('b', 'c'),
    ('b', 'e'),
    ('b', 'j'),
    ('c', 'd'),
    ('c', 'f'),
    ('c', 'h'),
    ('d', 'f'),
    ('d', 'g'),
    ('e', 'g'),
    ('f', 'g'),
    ('f', 'h'),
    ('f', 'p'),
    ('g', 'r'),
    ('h', 'm'),
    ('h', 'p'),
    ('i', 'm'),
    ('i', 'n'),
    ('j', 'k'),
    ('j', 'l'),
    ('k', 'l'),
    ('m', 'n'),
    ('n', 'o'),
    ('o', 'p'),
    ('q', 'r')
]
E1_ = [
    (0, 1), 
    (0, 8), 
    (1, 2), 
    (1, 4), 
    (1, 9), 
    (2, 3), 
    (2, 5), 
    (2, 7),
    (3, 5), 
    (3, 6), 
    (4, 6), 
    (5, 6), 
    (5, 7), 
    (5, 15), 
    (6, 17), 
    (7, 12), 
    (7, 15), 
    (8, 12), 
    (8, 13), 
    (9, 10), 
    (9, 11), 
    (10, 11),
    (12, 13), 
    (13, 14), 
    (14, 15), 
    (16, 17)
]


N2 = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 's', 't']
N2_ = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18]
A2___ = [
    #a  b  c  d  e  f  g  h  i  j  k  l  m  n  o  p  q  s  t
    [0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1], # a
    [1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], # b
    [0, 1, 0, 1, 0, 1, 0, 1, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0], # c
    [0, 0, 1, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], # d
    [0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0], # e
    [0, 0, 1, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], # f
    [0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0], # g
    [0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0], # h
    [1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], # i
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0], # j
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0], # k
    [0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0], # l
    [0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0], # m
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0], # n
    [0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0], # o
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0], # p
    [0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], # q
    [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], # s
    #[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1], # t
]
A2 = [
    #a  b  c  d  e  f  g  h  i  j  k  l  m  n  o  p  q  s  t
    [0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0], # a
    [1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], # b
    [0, 1, 0, 1, 0, 1, 0, 1, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0], # c
    [0, 0, 1, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], # d
    [0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0], # e
    [0, 0, 1, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], # f
    [0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0], # g
    [0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0], # h
    [1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], # i
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0], # j
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0], # k
    [0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0], # l
    [0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0], # m
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0], # n
    [0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0], # o
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0], # p
    [0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], # q
    [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1], # s
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0], # t
]
# A2 = torch.tensor(A2)
E2 = [
    ('a', 'b'),
    ('a', 'i'),
    ('a', 's'),
    ('b', 'c'),
    ('b', 'e'),
    ('c', 'd'),
    ('c', 'f'),
    ('c', 'h'),
    ('c', 'i'),
    ('c', 'm'),
    ('d', 'f'),
    ('d', 'g'),
    ('e', 'g'),
    ('e', 'l'),
    ('f', 'g'),
    ('g', 'q'),
    ('h', 'o'),
    ('j', 'k'),
    ('j', 'l'),
    ('k', 'l'),
    ('m', 'n'),
    ('n', 'o'),
    ('o', 'p'),
    ('s', 't')
]
E2_ = [
    (0, 1),
    (0, 8), 
    (0, 17), 
    (1, 2), 
    (1, 4), 
    (2, 3), 
    (2, 5), 
    (2, 7), 
    (2, 8), 
    (2, 12), 
    (3, 5), 
    (3, 6), 
    (4, 6), 
    (4, 11), 
    (5, 6), 
    (6, 16), 
    (7, 14), 
    (9, 10), 
    (9, 11), 
    (10, 11), 
    (12, 13), 
    (13, 14), 
    (14, 15), 
    # (17, 18)
]

E1_100 = [(0, 2), (0, 8), (0, 10), (0, 13), (0, 14), (0, 20), (0, 24), (0, 27), (0, 28), (0, 42), (0, 45), (0, 47), (0, 57), (0, 59), (0, 68), (0, 89), (0, 90), (0, 91), (0, 95), (1, 3), (1, 9), (1, 16), (1, 22), (1, 27), (1, 29), (1, 34), (1, 37), (1, 39), (1, 42), (1, 57), (1, 63), (1, 68), (1, 72), (1, 78), (1, 79), (1, 86), (1, 91), (2, 3), (2, 9), (2, 13), (2, 24), (2, 30), (2, 34), (2, 36), (2, 37), (2, 41), (2, 58), (2, 62), (2, 69), (2, 75), (2, 80), (2, 81), (2, 82), (2, 93), (2, 96), (3, 7), (3, 8), (3, 14), (3, 15), (3, 23), (3, 28), (3, 34), (3, 43), (3, 52), (3, 53), (3, 63), (3, 65), (3, 68), (3, 78), (3, 85), (3, 96), (4, 9), (4, 20), (4, 21), (4, 29), (4, 30), (4, 34), (4, 37), (4, 42), (4, 45), (4, 47), (4, 50), (4, 75), (4, 80), (4, 84), (4, 96), (5, 14), (5, 18), (5, 20), (5, 22), (5, 25), (5, 27), (5, 29), (5, 38), (5, 39), (5, 48), (5, 49), (5, 50), (5, 51), (5, 57), (5, 60), (5, 63), (5, 64), (5, 70), (5, 73), (5, 77), (5, 87), (6, 11), (6, 17), (6, 19), (6, 26), (6, 28), (6, 36), (6, 49), (6, 50), (6, 51), (6, 54), (6, 61), (6, 62), (6, 64), (6, 65), (6, 71), (6, 78), (6, 79), (6, 84), (6, 86), (6, 87), (6, 91), (7, 17), (7, 18), (7, 19), (7, 20), (7, 39), (7, 40), (7, 45), (7, 51), (7, 52), (7, 56), (7, 64), (7, 69), (7, 73), (7, 94), (8, 13), (8, 17), (8, 20), (8, 24), (8, 50), (8, 57), (8, 62), (8, 71), (8, 82), (8, 96), (8, 97), (9, 13), (9, 19), (9, 23), (9, 27), (9, 28), (9, 33), (9, 37), (9, 41), (9, 49), (9, 63), (9, 84), (9, 87), (9, 88), (10, 11), (10, 13), (10, 22), (10, 30), (10, 32), (10, 37), (10, 42), (10, 46), (10, 48), (10, 55), (10, 57), (10, 61), (10, 66), (10, 72), (10, 73), (10, 79), (10, 82), (10, 84), (10, 90), (10, 92), (10, 94), (10, 95), (10, 97), (10, 99), (11, 12), (11, 16), (11, 17), (11, 24), (11, 27), (11, 33), (11, 39), (11, 40), (11, 42), (11, 51), (11, 63), (11, 67), (11, 69), (11, 71), (11, 72), (11, 79), (11, 92), (12, 16), (12, 20), (12, 24), (12, 28), (12, 30), (12, 39), (12, 40), (12, 41), (12, 50), (12, 56), (12, 59), (12, 62), (12, 65), (12, 67), (12, 73), (12, 75), (12, 76), (12, 83), (12, 84), (12, 90), (12, 99), (13, 15), (13, 23), (13, 24), (13, 28), (13, 40), (13, 41), (13, 45), (13, 49), (13, 51), (13, 65), (13, 66), (13, 67), (13, 72), (13, 77), (13, 85), (13, 86), (13, 95), (14, 30), (14, 35), (14, 36), (14, 38), (14, 42), (14, 45), (14, 47), (14, 51), (14, 75), (14, 80), (14, 87), (14, 93), (14, 94), (14, 99), (15, 20), (15, 24), (15, 27), (15, 28), (15, 34), (15, 37), (15, 41), (15, 44), (15, 47), (15, 53), (15, 55), (15, 65), (15, 73), (15, 76), (15, 82), (15, 86), (15, 87), (15, 88), (15, 95), (16, 17), (16, 30), (16, 35), (16, 42), (16, 49), (16, 55), (16, 58), (16, 59), (16, 74), (16, 86), (16, 91), (16, 96), (17, 23), (17, 25), (17, 27), (17, 33), (17, 40), (17, 49), (17, 53), (17, 54), (17, 55), (17, 56), (17, 66), (17, 70), (17, 72), (17, 79), (17, 80), (17, 95), (17, 96), (18, 25), (18, 32), (18, 38), (18, 47), (18, 53), (18, 67), (18, 69), (18, 75), (18, 82), (18, 85), (18, 86), (18, 94), (19, 31), (19, 39), (19, 43), (19, 45), (19, 47), (19, 48), (19, 50), (19, 57), (19, 58), (19, 64), (19, 73), (19, 87), (20, 26), (20, 33), (20, 36), (20, 38), (20, 45), (20, 50), (20, 56), (20, 58), (20, 67), (20, 69), (20, 78), (20, 79), (20, 80), (20, 83), (20, 88), (20, 93), (20, 95), (20, 96), (21, 27), (21, 30), (21, 31), (21, 38), (21, 43), (21, 44), (21, 56), (21, 59), (21, 61), (21, 65), (21, 68), (21, 71), (21, 77), (21, 85), (21, 87), (21, 90), (21, 92), (22, 32), (22, 37), (22, 38), (22, 49), (22, 54), (22, 56), (22, 57), (22, 60), (22, 66), (22, 76), (22, 80), (22, 93), (23, 29), (23, 35), (23, 37), (23, 42), (23, 50), (23, 53), (23, 68), (23, 77), (23, 82), (23, 94), (23, 96), (24, 27), (24, 28), (24, 37), (24, 45), (24, 47), (24, 51), (24, 56), (24, 57), (24, 58), (24, 59), (24, 74), (24, 77), (24, 78), (24, 79), (24, 85), (24, 87), (24, 92), (24, 93), (24, 97), (25, 31), (25, 32), (25, 39), (25, 44), (25, 52), (25, 61), (25, 65), (25, 66), (25, 71), (25, 72), (25, 76), (25, 77), (25, 81), (25, 83), (25, 89), (25, 94), (25, 96), (25, 99), (26, 30), (26, 35), (26, 36), (26, 47), (26, 62), (26, 83), (26, 96), (27, 29), (27, 36), (27, 48), (27, 49), (27, 52), (27, 54), (27, 65), (27, 69), (27, 72), (27, 73), (27, 78), (27, 81), (27, 83), (27, 90), (27, 91), (27, 93), (28, 39), (28, 40), (28, 41), (28, 43), (28, 47), (28, 49), (28, 56), (28, 59), (28, 61), (28, 62), (28, 71), (28, 72), (28, 77), (28, 82), (28, 83), (28, 88), (28, 92), (29, 39), (29, 40), (29, 43), (29, 54), (29, 60), (29, 74), (29, 81), (29, 88), (30, 32), (30, 33), (30, 36), (30, 39), (30, 43), (30, 45), (30, 52), (30, 59), (30, 61), (30, 64), (30, 69), (30, 70), (30, 73), (30, 76), (30, 79), (30, 81), (30, 83), (30, 88), (30, 92), (30, 93), (30, 99), (31, 33), (31, 46), (31, 50), (31, 57), (31, 65), (31, 66), (31, 68), (31, 69), (31, 76), (31, 89), (31, 93), (31, 94), (32, 34), (32, 37), (32, 42), (32, 43), (32, 48), (32, 51), (32, 54), (32, 61), (32, 66), (32, 71), (32, 82), (32, 86), (32, 90), (32, 96), (33, 39), (33, 43), (33, 50), (33, 54), (33, 58), (33, 61), (33, 68), (33, 69), (33, 70), (33, 72), (33, 84), (33, 88), (33, 89), (33, 97), (33, 98), (34, 37), (34, 40), (34, 47), (34, 54), (34, 55), (34, 58), (34, 66), (34, 67), (34, 70), (34, 74), (34, 76), (34, 80), (34, 82), (34, 84), (34, 87), (34, 93), (34, 95), (34, 96), (35, 46), (35, 51), (35, 57), (35, 62), (35, 70), (35, 75), (35, 80), (35, 86), (35, 90), (35, 93), (35, 98), (36, 45), (36, 47), (36, 48), (36, 53), (36, 60), (36, 63), (36, 70), (36, 77), (36, 81), (36, 83), (36, 90), (36, 92), (36, 93), (37, 39), (37, 44), (37, 45), (37, 50), (37, 51), (37, 56), (37, 60), (37, 62), (37, 64), (37, 65), (37, 67), (37, 74), (37, 77), (37, 83), (37, 84), (37, 85), (37, 87), (37, 93), (37, 95), (38, 42), (38, 45), (38, 59), (38, 67), (38, 69), (38, 73), (38, 83), (38, 95), (39, 41), (39, 49), (39, 51), (39, 54), (39, 61), (39, 67), (39, 69), (39, 76), (39, 84), (39, 87), (39, 90), (39, 91), (40, 43), (40, 44), (40, 47), (40, 51), (40, 57), (40, 65), (40, 68), (40, 72), (40, 86), (40, 94), (40, 95), (41, 45), (41, 59), (41, 62), (41, 73), (41, 74), (41, 75), (41, 79), (41, 82), (41, 95), (42, 44), (42, 46), (42, 57), (42, 59), (42, 62), (42, 66), (42, 72), (42, 73), (42, 75), (42, 78), (42, 84), (42, 87), (42, 99), (43, 49), (43, 52), (43, 55), (43, 59), (43, 63), (43, 69), (43, 77), (43, 79), (43, 81), (43, 82), (43, 83), (43, 84), (43, 85), (43, 91), (43, 96), (44, 46), (44, 47), (44, 50), (44, 56), (44, 57), (44, 58), (44, 63), (44, 65), (44, 68), (44, 73), (44, 75), (44, 84), (44, 86), (44, 88), (44, 93), (44, 96), (45, 46), (45, 48), (45, 50), (45, 63), (45, 72), (45, 74), (45, 78), (45, 82), (45, 92), (45, 95), (45, 98), (45, 99), (46, 55), (46, 63), (46, 72), (46, 73), (46, 74), (46, 77), (46, 79), (46, 85), (46, 94), (46, 97), (47, 51), (47, 54), (47, 67), (47, 88), (48, 49), (48, 50), (48, 52), (48, 54), (48, 61), (48, 63), (48, 80), (48, 95), (48, 97), (48, 98), (49, 53), (49, 58), (49, 59), (49, 61), (49, 71), (49, 72), (49, 76), (49, 87), (50, 57), (50, 59), (50, 62), (50, 65), (50, 66), (50, 71), (50, 79), (50, 82), (50, 83), (50, 92), (51, 52), (51, 54), (51, 57), (51, 64), (51, 69), (51, 78), (51, 79), (51, 90), (51, 93), (51, 94), (52, 56), (52, 57), (52, 61), (52, 63), (52, 75), (52, 81), (52, 88), (52, 92), (52, 96), (52, 97), (52, 98), (53, 54), (53, 77), (53, 80), (53, 89), (53, 91), (53, 97), (54, 61), (54, 76), (54, 77), (54, 78), (54, 81), (54, 84), (54, 91), (54, 93), (54, 94), (54, 96), (54, 98), (55, 56), (55, 58), (55, 62), (55, 66), (55, 70), (55, 75), (55, 84), (55, 89), (55, 90), (55, 93), (55, 96), (55, 98), (56, 63), (56, 73), (56, 74), (56, 81), (56, 85), (56, 86), (56, 91), (57, 73), (57, 80), (57, 82), (57, 83), (57, 84), (57, 87), (57, 89), (57, 90), (58, 64), (58, 68), (58, 69), (58, 71), (58, 72), (58, 80), (58, 81), (58, 89), (58, 94), (58, 95), (59, 72), (59, 73), (59, 74), (59, 82), (59, 85), (59, 88), (59, 98), (60, 66), (60, 67), (60, 74), (60, 87), (60, 94), (60, 99), (61, 78), (61, 79), (61, 82), (61, 87), (61, 89), (61, 91), (62, 66), (62, 76), (62, 77), (62, 80), (62, 83), (62, 93), (62, 94), (63, 64), (63, 65), (63, 78), (63, 79), (63, 84), (63, 85), (63, 86), (63, 87), (63, 90), (63, 93), (63, 95), (64, 67), (64, 69), (64, 80), (64, 95), (65, 66), (65, 70), (65, 74), (65, 79), (65, 95), (66, 68), (66, 69), (66, 70), (66, 72), (66, 73), (66, 78), (66, 89), (66, 91), (66, 93), (66, 97), (67, 71), (67, 81), (67, 86), (67, 90), (67, 93), (67, 95), (67, 97), (67, 98), (68, 72), (68, 73), (68, 74), (68, 79), (68, 83), (68, 90), (68, 93), (68, 99), (69, 70), (69, 77), (69, 78), (69, 82), (69, 85), (69, 86), (70, 71), (70, 73), (70, 75), (70, 79), (70, 88), (70, 93), (70, 95), (71, 75), (71, 76), (71, 80), (71, 83), (71, 87), (71, 90), (71, 96), (71, 97), (72, 73), (73, 76), (73, 83), (73, 84), (73, 86), (73, 91), (73, 97), (74, 81), (74, 82), (74, 92), (74, 96), (74, 98), (75, 77), (75, 86), (75, 87), (75, 89), (75, 91), (75, 94), (75, 95), (75, 99), (76, 80), (76, 84), (76, 90), (76, 96), (76, 97), (76, 99), (77, 81), (77, 82), (77, 87), (77, 89), (77, 91), (77, 99), (78, 80), (78, 83), (78, 84), (78, 88), (78, 90), (78, 96), (79, 82), (79, 86), (79, 90), (79, 95), (80, 88), (80, 91), (80, 94), (81, 83), (81, 89), (81, 96), (81, 99), (82, 88), (83, 86), (83, 87), (84, 89), (84, 90), (84, 91), (84, 93), (84, 99), (85, 94), (86, 94), (87, 90), (87, 98), (88, 89), (88, 93), (88, 97), (89, 90), (90, 91), (90, 92), (91, 98), (92, 93), (93, 94), (93, 95), (94, 97), (95, 99)]
E2_100 = [(0, 2), (0, 8), (0, 10), (0, 13), (0, 14), (0, 20), (0, 24), (0, 27), (0, 28), (0, 42), (0, 45), (0, 47), (0, 57), (0, 59), (0, 68), (0, 89), (0, 90), (0, 91), (0, 95), (0, 101), (0, 107), (1, 6), (1, 12), (1, 17), (1, 19), (1, 24), (1, 27), (1, 29), (1, 32), (1, 47), (1, 53), (1, 58), (1, 62), (1, 68), (1, 69), (1, 76), (1, 81), (1, 90), (1, 96), (1, 100), (2, 4), (2, 10), (2, 14), (2, 16), (2, 17), (2, 21), (2, 38), (2, 42), (2, 49), (2, 55), (2, 60), (2, 61), (2, 62), (2, 73), (2, 76), (2, 83), (2, 84), (2, 90), (2, 91), (2, 99), (2, 104), (3, 4), (3, 13), (3, 22), (3, 23), (3, 33), (3, 35), (3, 38), (3, 48), (3, 55), (3, 66), (3, 74), (3, 85), (3, 86), (3, 94), (3, 95), (3, 99), (3, 102), (3, 107), (4, 5), (4, 7), (4, 10), (4, 35), (4, 40), (4, 44), (4, 56), (4, 68), (4, 72), (4, 74), (4, 76), (4, 79), (4, 81), (4, 83), (4, 92), (4, 93), (4, 102), (4, 103), (4, 104), (4, 105), (5, 7), (5, 10), (5, 13), (5, 14), (5, 20), (5, 23), (5, 27), (5, 37), (5, 54), (5, 60), (5, 62), (5, 69), (5, 71), (5, 79), (5, 92), (5, 93), (5, 94), (5, 97), (5, 104), (5, 105), (5, 107), (5, 108), (6, 11), (6, 18), (6, 19), (6, 24), (6, 26), (6, 27), (6, 31), (6, 49), (6, 50), (6, 51), (6, 52), (6, 71), (6, 72), (6, 77), (6, 83), (6, 84), (6, 88), (6, 96), (6, 101), (6, 105), (7, 24), (7, 34), (7, 38), (7, 41), (7, 45), (7, 71), (7, 78), (7, 83), (7, 92), (7, 103), (8, 16), (8, 17), (8, 23), (8, 29), (8, 33), (8, 37), (8, 38), (8, 43), (8, 47), (8, 51), (8, 59), (8, 73), (8, 94), (8, 97), (8, 98), (9, 10), (9, 12), (9, 21), (9, 29), (9, 31), (9, 36), (9, 41), (9, 45), (9, 47), (9, 54), (9, 56), (9, 60), (9, 65), (9, 71), (9, 72), (9, 78), (9, 81), (9, 83), (9, 89), (9, 91), (9, 93), (9, 94), (9, 96), (9, 98), (9, 99), (9, 103), (9, 104), (10, 12), (10, 15), (10, 21), (10, 27), (10, 28), (10, 30), (10, 39), (10, 51), (10, 55), (10, 57), (10, 59), (10, 60), (10, 67), (10, 80), (10, 91), (10, 95), (10, 99), (10, 103), (10, 105), (11, 16), (11, 17), (11, 18), (11, 27), (11, 33), (11, 36), (11, 39), (11, 42), (11, 44), (11, 50), (11, 52), (11, 53), (11, 60), (11, 61), (11, 67), (11, 76), (11, 78), (11, 86), (11, 87), (11, 91), (11, 103), (11, 104), (11, 108), (12, 15), (12, 17), (12, 31), (12, 32), (12, 33), (12, 38), (12, 43), (12, 51), (12, 52), (12, 61), (12, 81), (12, 86), (12, 87), (12, 89), (12, 93), (12, 96), (12, 98), (12, 102), (13, 30), (13, 35), (13, 42), (13, 48), (13, 49), (13, 54), (13, 59), (13, 63), (13, 66), (13, 67), (13, 73), (13, 76), (13, 80), (13, 83), (13, 86), (13, 92), (13, 94), (13, 104), (14, 17), (14, 20), (14, 26), (14, 30), (14, 31), (14, 32), (14, 39), (14, 44), (14, 57), (14, 62), (14, 69), (14, 76), (14, 82), (14, 85), (14, 86), (14, 101), (15, 19), (15, 24), (15, 29), (15, 38), (15, 40), (15, 42), (15, 48), (15, 55), (15, 64), (15, 68), (15, 69), (15, 70), (15, 71), (15, 81), (15, 85), (15, 87), (15, 94), (15, 95), (16, 17), (16, 18), (16, 28), (16, 35), (16, 41), (16, 50), (16, 56), (16, 70), (16, 72), (16, 78), (16, 85), (16, 88), (16, 89), (16, 97), (17, 22), (17, 30), (17, 34), (17, 36), (17, 38), (17, 39), (17, 41), (17, 48), (17, 49), (17, 55), (17, 64), (17, 78), (17, 96), (17, 103), (17, 106), (17, 108), (18, 24), (18, 29), (18, 35), (18, 37), (18, 46), (18, 48), (18, 57), (18, 58), (18, 59), (18, 62), (18, 67), (18, 72), (18, 74), (18, 75), (18, 84), (18, 87), (18, 88), (18, 95), (18, 100), (18, 101), (19, 23), (19, 26), (19, 28), (19, 32), (19, 35), (19, 38), (19, 44), (19, 52), (19, 54), (19, 57), (19, 59), (19, 76), (19, 81), (19, 82), (19, 93), (19, 98), (19, 100), (19, 101), (19, 104), (20, 21), (20, 31), (20, 35), (20, 48), (20, 60), (20, 66), (20, 68), (20, 73), (20, 81), (20, 84), (20, 99), (20, 108), (21, 25), (21, 37), (21, 39), (21, 45), (21, 46), (21, 55), (21, 63), (21, 65), (21, 69), (21, 74), (21, 75), (21, 76), (21, 77), (21, 92), (21, 95), (21, 96), (21, 97), (21, 103), (21, 105), (22, 23), (22, 24), (22, 28), (22, 36), (22, 37), (22, 44), (22, 49), (22, 57), (22, 66), (22, 70), (22, 71), (22, 76), (22, 77), (22, 81), (22, 82), (22, 86), (22, 88), (22, 94), (22, 99), (22, 101), (22, 104), (22, 108), (23, 27), (23, 28), (23, 39), (23, 54), (23, 75), (23, 88), (23, 93), (23, 100), (24, 27), (24, 28), (24, 31), (24, 33), (24, 44), (24, 48), (24, 51), (24, 52), (24, 57), (24, 60), (24, 62), (24, 69), (24, 70), (24, 72), (24, 89), (24, 90), (24, 91), (24, 93), (24, 97), (24, 99), (24, 106), (24, 109), (25, 27), (25, 28), (25, 37), (25, 38), (25, 43), (25, 48), (25, 49), (25, 54), (25, 58), (25, 75), (25, 76), (25, 79), (25, 90), (25, 96), (26, 27), (26, 34), (26, 41), (26, 54), (26, 55), (26, 58), (26, 61), (26, 65), (26, 67), (26, 74), (26, 81), (26, 83), (26, 86), (26, 91), (26, 92), (26, 95), (26, 98), (26, 101), (26, 103), (26, 105), (27, 28), (27, 32), (27, 33), (27, 39), (27, 41), (27, 54), (27, 58), (27, 65), (27, 73), (27, 74), (27, 76), (27, 77), (27, 84), (27, 97), (27, 101), (27, 102), (27, 109), (28, 31), (28, 36), (28, 37), (28, 42), (28, 45), (28, 48), (28, 55), (28, 60), (28, 65), (28, 76), (28, 80), (28, 84), (28, 90), (28, 99), (28, 103), (29, 30), (29, 34), (29, 38), (29, 41), (29, 48), (29, 49), (29, 50), (29, 52), (29, 64), (29, 68), (29, 69), (29, 77), (29, 78), (29, 82), (29, 85), (29, 92), (29, 99), (29, 100), (29, 103), (30, 32), (30, 33), (30, 36), (30, 40), (30, 42), (30, 46), (30, 48), (30, 50), (30, 53), (30, 59), (30, 61), (30, 62), (30, 76), (30, 81), (30, 87), (30, 92), (30, 100), (30, 105), (31, 32), (31, 38), (31, 42), (31, 45), (31, 50), (31, 60), (31, 62), (31, 63), (31, 68), (31, 75), (31, 78), (31, 85), (31, 92), (31, 96), (31, 98), (31, 105), (31, 107), (31, 108), (32, 39), (32, 44), (32, 45), (32, 50), (32, 51), (32, 56), (32, 60), (32, 62), (32, 64), (32, 65), (32, 67), (32, 74), (32, 77), (32, 83), (32, 84), (32, 85), (32, 87), (32, 93), (32, 95), (32, 103), (32, 106), (33, 44), (33, 52), (33, 54), (33, 58), (33, 68), (33, 80), (33, 86), (33, 94), (33, 96), (33, 99), (33, 106), (34, 37), (34, 39), (34, 46), (34, 54), (34, 57), (34, 60), (34, 61), (34, 72), (34, 73), (34, 76), (34, 80), (34, 86), (34, 94), (34, 97), (34, 101), (35, 41), (35, 49), (35, 50), (35, 58), (35, 72), (35, 75), (35, 86), (35, 87), (35, 88), (35, 92), (35, 95), (35, 108), (36, 41), (36, 43), (36, 54), (36, 56), (36, 59), (36, 63), (36, 69), (36, 70), (36, 72), (36, 75), (36, 81), (36, 84), (36, 96), (36, 102), (36, 105), (36, 108), (37, 40), (37, 44), (37, 50), (37, 58), (37, 60), (37, 62), (37, 63), (37, 64), (37, 65), (37, 66), (37, 72), (37, 77), (37, 82), (37, 83), (37, 86), (37, 92), (37, 93), (37, 94), (37, 99), (37, 101), (37, 104), (37, 109), (38, 40), (38, 49), (38, 51), (38, 53), (38, 58), (38, 61), (38, 65), (38, 67), (38, 69), (38, 82), (38, 91), (38, 93), (38, 97), (38, 101), (39, 41), (39, 44), (39, 47), (39, 48), (39, 57), (39, 65), (39, 74), (39, 75), (39, 76), (39, 79), (39, 81), (39, 87), (39, 96), (39, 99), (39, 105), (39, 108), (40, 52), (40, 73), (40, 85), (40, 86), (40, 88), (40, 90), (40, 97), (40, 99), (41, 48), (41, 63), (41, 65), (41, 66), (41, 71), (41, 76), (41, 77), (41, 79), (41, 89), (41, 90), (41, 94), (41, 105), (42, 57), (42, 59), (42, 62), (42, 65), (42, 66), (42, 71), (42, 79), (42, 82), (42, 83), (42, 92), (42, 100), (42, 102), (42, 105), (43, 46), (43, 51), (43, 60), (43, 61), (43, 72), (43, 75), (43, 76), (43, 85), (43, 86), (43, 90), (43, 92), (43, 104), (44, 45), (44, 52), (44, 56), (44, 60), (44, 61), (44, 62), (44, 64), (44, 87), (44, 90), (44, 99), (44, 101), (44, 107), (45, 52), (45, 67), (45, 68), (45, 69), (45, 72), (45, 75), (45, 82), (45, 84), (45, 85), (45, 87), (45, 89), (45, 91), (45, 93), (45, 97), (45, 101), (45, 105), (46, 47), (46, 56), (46, 61), (46, 62), (46, 65), (46, 68), (46, 70), (46, 78), (46, 88), (46, 89), (46, 96), (46, 100), (46, 101), (46, 106), (47, 68), (47, 75), (47, 77), (47, 78), (47, 79), (47, 82), (47, 84), (47, 85), (47, 100), (47, 104), (47, 105), (47, 107), (47, 108), (48, 55), (48, 56), (48, 64), (48, 69), (48, 70), (48, 87), (48, 88), (48, 89), (48, 97), (48, 100), (48, 103), (49, 53), (49, 60), (49, 61), (49, 68), (49, 81), (49, 88), (49, 93), (50, 51), (50, 52), (50, 55), (50, 60), (50, 62), (50, 64), (50, 76), (50, 86), (50, 87), (50, 90), (50, 93), (50, 103), (50, 104), (51, 52), (51, 53), (51, 66), (51, 67), (51, 72), (51, 73), (51, 74), (51, 75), (51, 78), (51, 81), (51, 83), (51, 90), (51, 92), (51, 103), (52, 61), (52, 66), (52, 70), (52, 74), (52, 79), (52, 95), (52, 101), (52, 102), (52, 103), (52, 105), (52, 106), (53, 55), (53, 66), (53, 68), (53, 70), (53, 74), (53, 80), (53, 90), (53, 95), (53, 99), (53, 102), (53, 104), (53, 106), (53, 107), (54, 57), (54, 58), (54, 59), (54, 64), (54, 68), (54, 75), (54, 78), (54, 84), (54, 85), (54, 92), (54, 93), (54, 97), (54, 100), (54, 101), (55, 61), (55, 63), (55, 65), (55, 69), (55, 78), (55, 83), (55, 85), (55, 93), (55, 94), (55, 98), (55, 101), (55, 105), (55, 108), (56, 61), (56, 62), (56, 65), (56, 94), (56, 101), (56, 102), (56, 104), (56, 109), (57, 63), (57, 72), (57, 73), (57, 83), (57, 87), (57, 89), (57, 92), (57, 101), (57, 102), (57, 104), (57, 106), (57, 109), (58, 59), (58, 63), (58, 67), (58, 71), (58, 77), (58, 83), (58, 84), (58, 86), (58, 90), (58, 91), (58, 96), (58, 98), (58, 100), (58, 108), (59, 60), (59, 63), (59, 64), (59, 68), (59, 70), (59, 76), (59, 82), (59, 86), (59, 90), (59, 95), (59, 107), (60, 61), (60, 64), (60, 71), (60, 77), (60, 84), (60, 87), (60, 93), (60, 107), (60, 108), (61, 77), (61, 78), (61, 79), (61, 81), (61, 87), (61, 96), (61, 109), (62, 70), (62, 78), (62, 80), (62, 84), (62, 88), (62, 91), (62, 101), (62, 102), (63, 70), (63, 72), (63, 79), (63, 80), (63, 87), (63, 93), (63, 100), (63, 101), (63, 103), (63, 109), (64, 66), (64, 72), (64, 76), (64, 80), (64, 84), (64, 91), (64, 105), (65, 66), (65, 70), (65, 71), (65, 73), (65, 81), (65, 88), (65, 93), (65, 94), (66, 78), (66, 89), (66, 97), (66, 102), (66, 105), (67, 68), (67, 73), (67, 78), (67, 82), (67, 84), (67, 92), (67, 96), (67, 97), (67, 99), (67, 105), (67, 109), (68, 72), (68, 75), (68, 76), (68, 78), (68, 92), (69, 71), (69, 75), (69, 78), (69, 79), (69, 101), (69, 109), (70, 72), (70, 73), (70, 79), (70, 84), (70, 85), (70, 86), (70, 90), (70, 100), (70, 101), (70, 104), (70, 108), (71, 85), (71, 89), (71, 92), (71, 93), (71, 94), (71, 99), (71, 106), (72, 74), (72, 86), (72, 89), (72, 95), (72, 97), (72, 101), (72, 105), (73, 80), (73, 85), (73, 87), (73, 88), (73, 93), (73, 97), (73, 100), (73, 101), (73, 102), (73, 104), (74, 78), (74, 79), (74, 81), (74, 93), (74, 94), (74, 103), (74, 105), (75, 77), (75, 86), (75, 93), (75, 96), (75, 100), (75, 101), (75, 102), (75, 106), (75, 107), (75, 108), (76, 82), (76, 84), (76, 101), (76, 102), (76, 106), (77, 81), (77, 83), (77, 89), (77, 90), (77, 95), (78, 80), (78, 91), (78, 94), (78, 98), (78, 99), (78, 101), (78, 106), (78, 109), (79, 80), (79, 84), (79, 91), (79, 92), (79, 94), (79, 95), (79, 101), (79, 104), (79, 105), (79, 109), (80, 82), (80, 83), (80, 84), (80, 88), (80, 91), (80, 103), (80, 109), (81, 82), (81, 88), (81, 89), (81, 93), (81, 95), (81, 96), (81, 97), (82, 83), (82, 84), (82, 90), (82, 92), (82, 94), (82, 102), (82, 107), (82, 109), (83, 90), (83, 93), (83, 96), (83, 101), (83, 106), (84, 89), (84, 93), (84, 98), (84, 100), (84, 101), (84, 104), (85, 87), (85, 90), (85, 104), (85, 106), (85, 108), (86, 88), (86, 96), (86, 99), (86, 102), (86, 108), (87, 96), (87, 99), (87, 106), (87, 109), (88, 92), (88, 96), (88, 98), (88, 103), (89, 95), (89, 99), (89, 109), (90, 93), (90, 97), (90, 107), (91, 94), (91, 108), (92, 93), (92, 98), (92, 101), (92, 109), (93, 95), (93, 97), (93, 99), (93, 101), (93, 106), (94, 96), (94, 99), (94, 109), (95, 102), (95, 108), (95, 109), (96, 102), (96, 106), (96, 108), (97, 102), (98, 99), (98, 109), (99, 101), (99, 106), (99, 109), (100, 107), (100, 108), (101, 103), (101, 109), (102, 103), (103, 108), (104, 106), (106, 107), (107, 109), (108, 109)]


nodelist1 = ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r"]
mapping1 = dict(zip(range(len(nodelist1)), nodelist1))

nodelist2 = ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "s", "t"]
mapping2 = dict(zip(range(len(nodelist2)), nodelist2))

initialpos = {
    "a": (0, 0),
    "b": (-1, -1),
    "c": (1, -1),
    "d": (0, -2),
    "e": (-1, -3),
    "f": (1, -3),
    "g": (0, -4),
    "h": (2, -2),
    "i": (2, 0),
    "j": (-2, -1),
    "k": (-3, -2),
    "l": (-2, -3),
    "m": (2, -1),
    "n": (3, -1),
    "o": (3, -2),
    "p": (2, -3),
    "q": (-1, -5),
    "r": (1, -5),
    "s": (-1, 0),
    "t": (-2, 0)
}

initialpos_1 = {
    0: (0, 0),
    1: (-1, -1),
    2: (1, -1),
    3: (0, -2),
    4: (-1, -3),
    5: (1, -3),
    6: (0, -4),
    7: (2, -2),
    8: (2, 0),
    9: (-2, -1),
    10: (-3, -2),
    11: (-2, -3),
    12: (2, -1),
    13: (3, -1),
    14: (3, -2),
    15: (2, -3),
    16: (-1, -5),
    17: (1, -5),
}
initialpos_2 = {
    0: (0, 0),
    1: (-1, -1),
    2: (1, -1),
    3: (0, -2),
    4: (-1, -3),
    5: (1, -3),
    6: (0, -4),
    7: (2, -2),
    8: (2, 0),
    9: (-2, -1),
    10: (-3, -2),
    11: (-2, -3),
    12: (2, -1),
    13: (3, -1),
    14: (3, -2),
    15: (2, -3),
    16: (-1, -5),
    17: (-1, 0),
    18: (-2, 0)
}
"""
Instructions

# Step 1
#---
import sys
sys.path.append('../')
import test_match as tm
#---

# Step 2
#---
A1 = torch.tensor(tm.A1)
A2 = torch.tensor(tm.A2)
#---

# Step 3
#---
G1, G2 = tm.plot_graphs(A1, A2)
#---

# Step 4
# Appy algorithm

# Step 5
#---
df_matrix = tm.similarity_matrix(X, G1, G2)
df_matrix
#---

# Step 6
#---
tm.plot_similarity_matrix(df_matrix)
#---

# Step 7
#---
tm.plot_match(G1, G2, df_matrix)
#---
"""

